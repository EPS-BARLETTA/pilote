<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PILOTE â€“ Tour de contrÃ´le</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-page="parent">
  <main class="container dashboard">
    <header class="page-hero">
      <p class="eyebrow">Espace parent</p>
      <h1>Tour de contrÃ´le</h1>
      <p class="small">
        Routines, scripts et rÃ©compenses validÃ©es pour soutenir la co-rÃ©gulation. Tout se passe hors ligne,
        uniquement pour vous.
      </p>
      <button class="btn ghost" data-action="lock-parent" type="button">Verrouiller</button>
    </header>

    <section class="card crisis-block" aria-labelledby="crisisTitle">
      <div class="card-head">
        <h2 id="crisisTitle">Mode crise (30 secondes)</h2>
        <p class="small">Ã€ lire quand Ã§a monte, mÃªme sans dÃ©verrouiller.</p>
      </div>
      <div class="crisis-grid">
        <article class="crisis-card">
          <div class="crisis-card-head">
            <p class="eyebrow">Phrase Ã  dire</p>
            <button class="btn ghost tiny-btn" id="crisisPhraseBtn" type="button">Autre phrase</button>
          </div>
          <p id="crisisPhrase" class="crisis-text">Â« Je vois que câ€™est dur pour toi. On fait une pause. Je suis lÃ . Â»</p>
        </article>
        <article class="crisis-card">
          <p class="eyebrow">Action immÃ©diate</p>
          <p class="crisis-text">Pause maintenant.</p>
          <ul class="action-list">
            <li>â±ï¸ 2 minutes sans parler</li>
            <li>ğŸª‘ Coin calme / sâ€™Ã©loigner du bruit</li>
            <li>ğŸŒ¬ï¸ Respiration lente ensemble</li>
          </ul>
          <p class="micro-copy">On ne rÃ¨gle rien pendant la pause.</p>
        </article>
        <article class="crisis-card">
          <p class="eyebrow">AprÃ¨s la pause</p>
          <p class="crisis-text">Â« On regarde ce qui a aidÃ©, puis on rÃ©pare et on repart. Â»</p>
          <ul class="action-list">
            <li>ğŸ«¶ Dire pardon / faire un geste</li>
            <li>ğŸ§½ Ranger ou rÃ©parer</li>
            <li>ğŸ” Recommencer autrement</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="card lock-banner" id="parentLockBanner">
      <h2>DÃ©verrouiller vos rÃ©glages</h2>
      <p>Ce code empÃªche simplement les petites mains de modifier lâ€™outil.</p>
      <form id="parentUnlockForm" class="pin-form">
        <label for="parentPinInput">Votre code</label>
        <input id="parentPinInput" type="password" inputmode="numeric" maxlength="6" required />
        <button type="submit">Ouvrir</button>
        <p class="micro-copy" id="pinReminder">DÃ©finissez votre PIN personnel dÃ¨s que possible.</p>
      </form>
    </section>

    <div class="grid lockable is-locked" id="parentContent">
      <article class="card span-2">
        <div class="card-head objective-head">
          <div>
            <h2>Objectifs de la semaine</h2>
            <p class="small">1 objectif principal, 2 optionnels maximum.</p>
          </div>
          <div class="primary-badge" id="primaryObjectiveBadge">Aucun objectif principal</div>
        </div>
        <p class="micro-copy">Choisissez un seul objectif principal. Les autres sont optionnels. On cherche un progrÃ¨s, pas la perfection.</p>
        <div class="objective-choices" id="objectiveChoices"></div>
      </article>

      <article class="card span-2">
        <h2>Scripts parentaux prÃªts Ã  dire</h2>
        <div class="scripts" id="scriptList"></div>
      </article>

      <article class="card">
        <h2>Routines</h2>
        <form id="routineForm" class="stack-form">
          <label>Routine du matin</label>
          <textarea data-routine="morning" rows="3" placeholder="3 Ã©tapes maximum."></textarea>
          <label>Routine des devoirs</label>
          <textarea data-routine="homework" rows="3" placeholder="Guidage simple pour limiter la surcharge."></textarea>
          <label>Routine du soir</label>
          <textarea data-routine="evening" rows="3" placeholder="Rassurer et anticiper la nuit."></textarea>
          <button type="submit">Sauvegarder les routines</button>
        </form>
      </article>

      <article class="card">
        <h2>StratÃ©gies proposÃ©es</h2>
        <form id="strategyForm" class="stack-form">
          <p class="micro-copy">Entre 3 et 5 idÃ©es stables. Elles apparaissent telles quelles pour lâ€™enfant.</p>
          <div class="field-group" id="strategyFields"></div>
          <button type="submit">Enregistrer</button>
        </form>
      </article>

      <article class="card">
        <h2>DÃ©clencheurs frÃ©quents</h2>
        <form id="triggerForm" class="stack-form">
          <div class="trigger-options" id="triggerOptions"></div>
          <label for="triggerOtherInput">Autres dÃ©clencheurs</label>
          <textarea id="triggerOtherInput" rows="3" placeholder="Ã€ complÃ©ter si besoin."></textarea>
          <button type="submit">Mettre Ã  jour</button>
        </form>
      </article>

      <article class="card">
        <h2>RÃ©compenses</h2>
        <p class="micro-copy reward-note">Les rÃ©compenses servent Ã  encourager les efforts. Elles ne se nÃ©gocient pas quand lâ€™Ã©motion est trop forte. On valide aprÃ¨s la pause ou la rÃ©paration.</p>
        <form id="rewardForm" class="stack-form">
          <label>RÃ©compenses immÃ©diates</label>
          <textarea data-reward="immediate" rows="3" placeholder="Moment cÃ¢lin, puzzle, jeu calme..."></textarea>
          <label>RÃ©compenses programmÃ©es</label>
          <textarea data-reward="planned" rows="3" placeholder="Balade, vÃ©lo, cinÃ©ma..."></textarea>
          <label for="plannedNextInput">Prochaine sortie programmÃ©e</label>
          <input id="plannedNextInput" type="text" placeholder="Ex : Samedi 15h â€“ VÃ©lo" />
          <label>RÃ©compenses symboliques</label>
          <textarea data-reward="symbolic" rows="3" placeholder="Badges, messages..."></textarea>
          <button type="submit">Rendre visible cÃ´tÃ© enfant</button>
        </form>
      </article>

      <article class="card">
        <h2>Code PIN</h2>
        <form id="pinForm" class="stack-form">
          <label for="pinInput">Nouveau code (4 Ã  6 chiffres)</label>
          <input id="pinInput" type="password" inputmode="numeric" minlength="4" maxlength="6" placeholder="â€¢â€¢â€¢â€¢" />
          <button type="submit">Mettre Ã  jour</button>
        </form>
      </article>
    </div>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>
  <script src="app.js" defer></script>
</body>
</html>
