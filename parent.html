<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PILOTE ‚Äì Tour de contr√¥le</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-page="parent">
  <main class="container dashboard">
    <header class="card page-hero">
      <p class="eyebrow">Espace parent</p>
      <h1>Tour de contr√¥le</h1>
      <p>Des rep√®res concrets pour co-r√©guler sans culpabiliser.</p>
      <button class="btn ghost" data-action="lock-parent" type="button">Verrouiller</button>
    </header>

    <section class="card crisis-block">
      <h2>Mode crise (30 secondes)</h2>
      <div class="grid">
        <article class="card nested-card">
          <p class="eyebrow">Phrase √† dire</p>
          <p id="crisisPhrase" class="crisis-text">¬´ Je vois que c'est dur. On met tout en pause. Je suis l√†. ¬ª</p>
          <button class="btn ghost" id="crisisPhraseBtn" type="button">Autre phrase</button>
        </article>
        <article class="card nested-card">
          <p class="eyebrow">Action imm√©diate</p>
          <ul class="action-list">
            <li>‚è±Ô∏è 2 minutes sans parler</li>
            <li>ü™ë Coin calme / s'√©loigner du bruit</li>
            <li>üå¨Ô∏è Respiration lente</li>
          </ul>
          <p class="micro-copy">On ne r√®gle rien pendant la pause.</p>
        </article>
        <article class="card nested-card">
          <p class="eyebrow">Apr√®s la pause</p>
          <ul class="action-list">
            <li>Dire pardon ou faire un geste</li>
            <li>Ranger / r√©parer</li>
            <li>Recommencer autrement</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="card lock-banner" id="parentLockBanner">
      <h2>D√©verrouiller vos r√©glages</h2>
      <p>Ce code emp√™che simplement les petites mains de modifier l'outil.</p>
      <form id="parentUnlockForm" class="pin-form">
        <label for="parentPinInput">Votre code</label>
        <input id="parentPinInput" type="password" inputmode="numeric" maxlength="6" required />
        <button type="submit">Ouvrir</button>
      </form>
    </section>

    <section class="card" id="pinSetupPanel">
      <h2>D√©finir votre code PIN</h2>
      <p class="small">Choisissez un code (4 √† 6 chiffres) pour prot√©ger le cockpit enfant.</p>
      <form id="pinSetupForm" class="pin-form">
        <label for="pinSetupInput">Nouveau code</label>
        <input id="pinSetupInput" type="password" inputmode="numeric" minlength="4" maxlength="6" required />
        <button type="submit">Enregistrer</button>
      </form>
    </section>

    <div class="grid lockable" id="parentContent">
      <article class="card span-2">
        <div class="card-head">
          <h2>Objectifs de la semaine</h2>
          <div class="primary-badge" id="primaryObjectiveBadge">Aucun objectif principal</div>
        </div>
        <p class="micro-copy">1 objectif principal, 2 optionnels maximum. On cherche un progr√®s, pas la perfection.</p>
        <div class="objective-choices" id="objectiveChoices"></div>
      </article>

      <article class="card span-2">
        <h2>Scripts pr√™ts √† dire</h2>
        <div class="scripts" id="scriptList"></div>
      </article>

      <article class="card">
        <h2>Routines</h2>
        <form id="routineForm" class="stack-form">
          <label>Routine du matin</label>
          <textarea data-routine="morning" rows="3" placeholder="3 √©tapes maximum."></textarea>
          <label>Routine des devoirs</label>
          <textarea data-routine="homework" rows="3"></textarea>
          <label>Routine du soir</label>
          <textarea data-routine="evening" rows="3"></textarea>
          <button type="submit">Sauvegarder</button>
        </form>
      </article>

      <article class="card">
        <h2>Strat√©gies propos√©es</h2>
        <form id="strategyForm" class="stack-form">
          <p class="micro-copy">Entre 3 et 5 id√©es stables. Elles apparaissent telles quelles pour l'enfant.</p>
          <div class="field-group" id="strategyFields"></div>
          <button type="submit">Enregistrer</button>
        </form>
      </article>

      <article class="card">
        <h2>D√©clencheurs fr√©quents</h2>
        <form id="triggerForm" class="stack-form">
          <div class="trigger-options" id="triggerOptions"></div>
          <label for="triggerOtherInput">Autres d√©clencheurs</label>
          <textarea id="triggerOtherInput" rows="3" placeholder="Compl√©ter si besoin."></textarea>
          <button type="submit">Mettre √† jour</button>
        </form>
      </article>

      <article class="card">
        <h2>R√©compenses</h2>
        <p class="micro-copy">Les r√©compenses encouragent l'effort. Jamais n√©goci√©es en pleine crise.</p>
        <form id="rewardForm" class="stack-form">
          <label>Imm√©diates</label>
          <textarea data-reward="immediate" rows="3" placeholder="Moment c√¢lin, puzzle, jeu calme..."></textarea>
          <label>Programm√©es</label>
          <textarea data-reward="planned" rows="3" placeholder="Balade, v√©lo, cin√©ma..."></textarea>
          <label for="plannedNextInput">Prochaine sortie</label>
          <input id="plannedNextInput" type="text" placeholder="Ex : Samedi 15h ‚Äì V√©lo" />
          <label>Symboliques</label>
          <textarea data-reward="symbolic" rows="3" placeholder="Badges, messages..."></textarea>
          <button type="submit">Rendre visible c√¥t√© enfant</button>
        </form>
      </article>

      <article class="card">
        <h2>Code PIN</h2>
        <form id="pinForm" class="stack-form">
          <label for="pinInput">Nouveau code</label>
          <input id="pinInput" type="password" inputmode="numeric" minlength="4" maxlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          <button type="submit">Mettre √† jour</button>
        </form>
      </article>
    </div>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>
  <script src="app.js" defer></script>
</body>
</html>
